"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[65],{20954:(e,r,s)=>{s.d(r,{C:()=>l});var n=s(96583),t=s(40033),i=s(79739),a=s(75165),o=(s(9950),s(44414));function l(e){return(0,o.jsxs)(n.A,{onClose:e.onClose,open:e.open,PaperProps:{className:"!rounded-2xl p-6"},children:[(0,o.jsxs)(t.A,{children:["Are you sure you want to delete this ",e.item,"?"]}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(a.A,{onClick:e.onClose,children:"Cancel"}),(0,o.jsx)(a.A,{onClick:e.onDelete,variant:"contained",className:"!bg-[rgb(255,138,0)] !text-white",children:"Delete"})]})]})}},58574:(e,r,s)=>{s.d(r,{A:()=>u});var n=s(5446),t=s(2235),i=s(88981),a=s(25333),o=s(9950),l=s(4804),c=s(54975),d=s(44414);function u(e){return(0,o.useEffect)((()=>{console.warn(e.error)})),(0,d.jsx)(n.A,{open:e.open,className:"w-1/2 min-w-[500px] h-full absolute inset-0 m-auto p-16",children:(0,d.jsx)(t.A,{className:"p-12 !rounded-[48px]",children:(0,d.jsxs)(i.A,{spacing:2,children:[(0,d.jsxs)(i.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,d.jsxs)("h1",{className:"m-0 text-3xl",children:["Error",e.error.errorCode&&" ".concat(e.error.errorCode),":"," ",e.error.errorMessage]}),(0,d.jsx)(a.A,{onClick:()=>{window.location.reload()},children:(0,d.jsx)(l.A,{})})]}),(0,d.jsxs)("p",{className:"m-0",children:["Try refreshing the page and contact"," ",(0,d.jsx)("a",{href:"mailto:shamith09@berkeley.edu?subject=[Plexfinance Error]",children:"shamith09@berkeley.edu"})," ","if the issue persists."]}),(0,d.jsx)("img",{src:c.kD,alt:"error"})]})})})}},69065:(e,r,s)=>{s.r(r),s.d(r,{MemberManagement:()=>D});var n=s(58574),t=s(9950),i=s(76455),a=s(2235),o=s(88981),l=s(2257),c=s(2046),d=s(25333),u=s(1320),h=s(15769),x=s(69780),j=s(9213),m=s(21671),A=s(34075),p=s(20954),g=s(20760),f=s(93038),C=s(64068),b=s(73759),w=s(86835),v=s(4645),P=s(23266),k=s(44414);const y=["Student","Developer","Senior Developer","Senior Advisor","Project Manager","Curriculum Instructor","Alumni","President","VP of Public Relations","VP of Curriculum","VP of Projects","VP of External","VP of Internal","Treasurer"];function M(e){const{user:r,onDelete:s}=e,[n,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)(),[l,c]=(0,t.useState)(r.current_position||"");return(0,k.jsxs)(k.Fragment,{children:[n&&(0,k.jsx)(p.C,{open:n,item:"user",onClose:()=>i(!1),onDelete:()=>s(r.id)}),(0,k.jsxs)(j.A,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,k.jsx)(m.A,{children:r.registered?"".concat(r.first_name," ").concat(r.last_name):r.email}),(0,k.jsx)(m.A,{align:"center",children:(0,k.jsx)(f.A,{checked:void 0===a?r.treasurer:a,onChange:async e=>{const s=e.target.checked;await(0,C.A)("/members/","PUT",{user_id:r.id,treasurer:s}),o(s)}})}),(0,k.jsx)(m.A,{align:"center",children:r.registered?(0,k.jsx)(b.A,{}):(0,k.jsx)(w.A,{})}),(0,k.jsx)(m.A,{align:"center",children:(0,k.jsxs)(v.A,{value:l,onChange:async e=>{const s=e.target.value;await(0,C.A)("/members/","PUT",{user_id:r.id,current_position:s}),c(s)},size:"small",fullWidth:!0,children:[(0,k.jsx)(P.A,{value:"",children:"None"}),y.map((e=>(0,k.jsx)(P.A,{value:e,children:e},e)))]})}),(0,k.jsx)(m.A,{align:"center",children:(0,k.jsx)(d.A,{size:"small",onClick:()=>i(!0),children:(0,k.jsx)(g.A,{})})})]},r.id)]})}var S=s(99532);function D(){const[,e]=(0,t.useState)(!1),[r,s]=(0,t.useState)(),[p,g]=(0,t.useState)([]),[f,b]=(0,t.useState)(""),[w,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{e(!0);const[r,n]=await(0,C.A)("/members/","GET",void 0);e(!1),r?g(n.users):s({errorCode:n.error.errorCode,errorMessage:n.error.errorMessage})})()}),[]);const P=async e=>{g(p.filter((r=>r.id!==e)));const[r,n]=await(0,C.A)("/members/","DELETE",{user_id:e});r||s({errorCode:n.error.errorCode,errorMessage:n.error.errorMessage})};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(i.mg,{children:[(0,k.jsx)("title",{children:"Members"}),(0,k.jsx)("meta",{name:"description",content:"Member management"})]}),r&&(0,k.jsx)(n.A,{open:!!r,error:r}),(0,k.jsx)(a.A,{className:"min-h-[95%] w-3/5 min-w-[500px] mx-auto p-16 !rounded-[48px]",children:(0,k.jsxs)(o.A,{spacing:4,children:[(0,k.jsx)(l.A,{label:"Add User(s)",helperText:"Enter emails as a comma-separated list with spaces.",value:f,onChange:e=>b(e.target.value),error:w,fullWidth:!0,InputProps:{endAdornment:(0,k.jsx)(c.A,{position:"end",children:(0,k.jsx)(d.A,{onClick:async()=>{e(!0);const r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;for(const s of f.split(", "))if(!r.test(s))return v(!0),void e(!1);const[n,t]=await(0,C.A)("/profile/","POST",{emails:f.split(", ")});n?(g([...p,...t.users]),b("")):s({errorCode:t.error.errorCode,errorMessage:t.error.errorMessage}),e(!1)},edge:"end",children:(0,k.jsx)(S.A,{})})})}}),(0,k.jsx)(u.A,{children:(0,k.jsxs)(h.A,{stickyHeader:!0,children:[(0,k.jsx)(x.A,{children:(0,k.jsxs)(j.A,{children:[(0,k.jsx)(m.A,{children:"Name"}),(0,k.jsx)(m.A,{align:"center",children:"Admin?"}),(0,k.jsx)(m.A,{align:"center",children:"Registered?"}),(0,k.jsx)(m.A,{align:"center",children:"Current Role"}),(0,k.jsx)(m.A,{align:"center",children:"Delete"})]})}),(0,k.jsx)(A.A,{children:p.map((e=>(0,k.jsx)(M,{user:e,onDelete:P},e.id)))})]})})]})})]})}}}]);