"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[587],{58574:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(5446),a=r(2235),o=r(88981),s=r(25333),i=r(9950),c=r(4804),l=r(54975),d=r(44414);function g(e){return(0,i.useEffect)((()=>{console.warn(e.error)})),(0,d.jsx)(n.A,{open:e.open,className:"w-1/2 min-w-[500px] h-full absolute inset-0 m-auto p-16",children:(0,d.jsx)(a.A,{className:"p-12 !rounded-[48px]",children:(0,d.jsxs)(o.A,{spacing:2,children:[(0,d.jsxs)(o.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,d.jsxs)("h1",{className:"m-0 text-3xl",children:["Error",e.error.errorCode&&" ".concat(e.error.errorCode),":"," ",e.error.errorMessage]}),(0,d.jsx)(s.A,{onClick:()=>{window.location.reload()},children:(0,d.jsx)(c.A,{})})]}),(0,d.jsxs)("p",{className:"m-0",children:["Try refreshing the page and contact"," ",(0,d.jsx)("a",{href:"mailto:shamith09@berkeley.edu?subject=[Plexfinance Error]",children:"shamith09@berkeley.edu"})," ","if the issue persists."]}),(0,d.jsx)("img",{src:l.kD,alt:"error"})]})})})}},58587:(e,t,r)=>{r.r(t),r.d(t,{LoginPage:()=>A});var n=r(89379),a=r(9950),o=r(76455),s=r(54975),i=r(14857),c=r(2235),l=r(88981),d=r(74745),g=r(24451);const h=(0,g.j)((()=>Promise.all([r.e(869),r.e(330)]).then(r.bind(r,85330))),(e=>e.SignUpPage));var u=r(58574);const m=(0,g.j)((()=>Promise.all([r.e(869),r.e(149)]).then(r.bind(r,47149))),(e=>e.ForgotPasswordPage));var p=r(42891),f=r(64068),x=r(72301),w=r(49211),j=r(44414);function A(e){const[t,r]=(0,a.useState)(!1),[g,A]=(0,a.useState)(!1),[v,b]=(0,a.useState)({email:"",password:"",google:!1}),[k,y]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[I,N]=(0,a.useState)(),[E,P]=(0,a.useState)(!1),[T,L]=(0,a.useState)(!1),[B,z]=(0,a.useState)({}),O=(0,i.A)();(0,a.useEffect)((()=>{google.accounts.id.initialize({client_id:"968100881152-kgabl8upp6j75oset2hj9l512mcaoved.apps.googleusercontent.com",callback:U}),google.accounts.id.renderButton(document.getElementById("google-signin"),{theme:"dark"===O.palette.mode?"filled_black":"outline",size:"large"})}),[S]),(0,a.useEffect)((()=>{(async()=>{B.email&&await _()})()}),[B]);const U=e=>{const t=(0,p.A)(e.credential);b({email:t.email,google:!0}),z(t)},_=async e=>{if(e&&e.preventDefault(),!v.google&&(""===v.email||""===v.password))return void r(!0);P(!0);const[t,a]=await(0,f.A)("/users/","POST",(0,n.A)((0,n.A)((0,n.A)({},v),{},{method:"login"},w.A.get("attendanceTime")&&{attendanceTime:w.A.get("attendanceTime")}),w.A.get("attendanceId")&&{attendanceId:w.A.get("attendanceId")}),(0,x.gf)(),(()=>y(!0)));P(!1),t?(y(!1),a.redirect&&(window.location=a.redirect),(0,x.WG)(a.access_token),r(!1)):404===a.error.errorCode?C(!0):N(a.error)};return S?(0,j.jsx)(h,{onBack:()=>C(!1)}):T?(0,j.jsx)(m,{onBack:()=>L(!1)}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(o.mg,{children:[(0,j.jsx)("title",{children:"Login"}),(0,j.jsx)("meta",{name:"description",content:"Login page for PlexTech finance"})]}),I?(0,j.jsx)(u.A,{open:!!I,error:I}):(0,j.jsxs)("div",{className:"pt-16 h-full",children:[(0,j.jsx)(c.A,{className:"min-h-[95%] w-[40%] min-w-[500px] mx-auto p-16 !rounded-[48px]",elevation:3,children:(0,j.jsx)("form",{children:(0,j.jsxs)(l.A,{alignItems:"center",spacing:4,children:[(0,j.jsx)("img",{src:s.ng,alt:"PlexTech logo",className:"max-w-[80px]"}),(0,j.jsx)("h1",{className:"m-0 text-[3.052rem] pt-6",children:"Login"}),(0,j.jsx)("div",{id:"google-signin"}),(0,j.jsx)(d.A,{className:"w-full",variant:"middle",light:!0,children:"or"}),!1]})})}),(0,j.jsx)("div",{className:"h-[5%]"})]})]})}},4804:(e,t,r)=>{var n=r(24994);t.A=void 0;var a=n(r(79526)),o=r(44414),s=(0,a.default)((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.A=s},42891:(e,t,r)=>{function n(e){this.message=e}r.d(t,{A:()=>i}),n.prototype=new Error,n.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,a,o=0,s=0,i="";a=t.charAt(s++);~a&&(r=o%4?64*r+a:a,o++%4)?i+=String.fromCharCode(255&r>>(-2*o&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return i};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return a(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError";const i=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new s("Invalid token specified: "+e.message)}}}}]);