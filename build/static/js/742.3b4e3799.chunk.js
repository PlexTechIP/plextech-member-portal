"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[742],{6465:function(e,r,n){n.d(r,{A:function(){return c}});var t=n(94469),s=n(33604),i=n(4117),a=n(69099),o=(n(47313),n(46417));function c(e){return(0,o.jsxs)(t.Z,{onClose:e.onClose,open:e.open,PaperProps:{style:{borderRadius:"24px",padding:"24px"}},children:[(0,o.jsxs)(s.Z,{children:["Are you sure you want to delete this ",e.item,"?"]}),(0,o.jsxs)(i.Z,{children:[(0,o.jsx)(a.Z,{onClick:e.onClose,children:"Cancel"}),(0,o.jsx)(a.Z,{onClick:e.onDelete,variant:"contained",style:{backgroundColor:"rgb(255, 138, 0)",color:"white"},children:"Delete"})]})]})}},63931:function(e,r,n){n.d(r,{C:function(){return m}});var t,s,i,a,o=n(30168),c=n(42832),u=n(47131),l=n(70501),d=n(25673),h=n(47313),x=n(96694),Z=n(53115),p=n(32094),f=n(85979),j=n(46417);function m(e){return(0,h.useEffect)((function(){console.warn(e.error)})),(0,j.jsx)(C,{open:e.open,children:(0,j.jsx)(g,{children:(0,j.jsxs)(c.Z,{spacing:2,children:[(0,j.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,j.jsxs)(v,{children:["Error",e.error.errorCode&&" ".concat(e.error.errorCode),":"," ",e.error.errorMessage]}),(0,j.jsx)(u.Z,{onClick:function(){window.location.reload()},children:(0,j.jsx)(p.Z,{})})]}),(0,j.jsxs)(b,{children:["Try refreshing the page and contact"," ",(0,j.jsx)("a",{href:"mailto:shamith09@berkeley.edu?subject=[Plexfinance Error]",children:"shamith09@berkeley.edu"})," ","if the issue persists."]}),(0,j.jsx)("img",{src:f.Uf,alt:"error"})]})})})}var g=(0,x.Z)(l.Z)(t||(t=(0,o.Z)(["\n  padding: 48px;\n  border-radius: 48px;\n"]))),v=Z.ZP.h1(s||(s=(0,o.Z)(["\n  margin: 0px;\n"]))),b=Z.ZP.p(i||(i=(0,o.Z)(["\n  margin: 0px;\n"]))),C=(0,Z.ZP)(d.Z)(a||(a=(0,o.Z)(["\n  width: 50%;\n  min-width: 500px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  padding: 64px;\n"])))},67742:function(e,r,n){n.r(r),n.d(r,{MemberManagement:function(){return I}});var t=n(30168),s=n(93433),i=n(37762),a=n(74165),o=n(15861),c=n(29439),u=n(63931),l=n(47313),d=n(65964),h=n(42832),x=n(31427),Z=n(41727),p=n(47131),f=n(51629),j=n(66835),m=n(23477),g=n(24076),v=n(67478),b=n(57861),C=n(70501),k=n(96694),w=n(6465),P=n(35192),y=n(44758),M=n(45439),A=n(30183),E=n(8586),S=n(22548),D=n(51405),T=n(46417),_=["Developer","Senior Advisor","Project Manager","Curriculum Instructor","President","VP of Public Relations","VP of Curriculum","VP of Projects","VP of External","VP of Internal","Treasurer"];function N(e){var r=e.user,n=e.onDelete,t=(0,l.useState)(!1),s=(0,c.Z)(t,2),i=s[0],u=s[1],d=(0,l.useState)(),h=(0,c.Z)(d,2),x=h[0],Z=h[1],f=(0,l.useState)(r.current_position||""),j=(0,c.Z)(f,2),m=j[0],b=j[1];return(0,T.jsxs)(T.Fragment,{children:[i&&(0,T.jsx)(w.A,{open:i,item:"user",onClose:function(){return u(!1)},onDelete:function(){return n(r.id)}}),(0,T.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,T.jsx)(v.Z,{children:r.registered?"".concat(r.first_name," ").concat(r.last_name):r.email}),(0,T.jsx)(v.Z,{align:"center",children:(0,T.jsx)(y.Z,{checked:void 0===x?r.treasurer:x,onChange:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.checked,e.next=3,(0,M.N)("/members/","PUT",{user_id:r.id,treasurer:t});case 3:Z(t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()})}),(0,T.jsx)(v.Z,{align:"center",children:r.registered?(0,T.jsx)(A.Z,{}):(0,T.jsx)(E.Z,{})}),(0,T.jsx)(v.Z,{align:"center",children:(0,T.jsxs)(S.Z,{value:m,onChange:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.value,e.next=3,(0,M.N)("/members/","PUT",{user_id:r.id,current_position:t});case 3:b(t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),size:"small",fullWidth:!0,children:[(0,T.jsx)(D.Z,{value:"",children:"None"}),_.map((function(e){return(0,T.jsx)(D.Z,{value:e,children:e},e)}))]})}),(0,T.jsx)(v.Z,{align:"center",children:(0,T.jsx)(p.Z,{size:"small",onClick:function(){return u(!0)},children:(0,T.jsx)(P.Z,{})})})]},r.id)]})}var z,V=n(5211);function I(){var e=(0,l.useState)(!1),r=(0,c.Z)(e,2)[1],n=(0,l.useState)(),t=(0,c.Z)(n,2),C=t[0],k=t[1],w=(0,l.useState)([]),P=(0,c.Z)(w,2),y=P[0],A=P[1],E=(0,l.useState)(""),S=(0,c.Z)(E,2),D=S[0],_=S[1],z=(0,l.useState)(!1),I=(0,c.Z)(z,2),U=I[0],F=I[1];(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,t,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(0,M.N)("/members/","GET",void 0);case 3:if(n=e.sent,t=(0,c.Z)(n,2),s=t[0],i=t[1],r(!1),s){e.next=11;break}return k({errorCode:i.error.errorCode,errorMessage:i.error.errorMessage}),e.abrupt("return");case 11:A(i.users);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var W=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r){var n,t,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(y.filter((function(e){return e.id!==r}))),e.next=3,(0,M.N)("/members/","DELETE",{user_id:r});case 3:n=e.sent,t=(0,c.Z)(n,2),s=t[0],i=t[1],s||k({errorCode:i.error.errorCode,errorMessage:i.error.errorMessage});case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),$=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,t,o,u,l,d,h,x;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!0),n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,t=(0,i.Z)(D.split(", ")),e.prev=3,t.s();case 5:if((o=t.n()).done){e.next=13;break}if(u=o.value,n.test(u)){e.next=11;break}return F(!0),r(!1),e.abrupt("return");case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:return e.next=23,(0,M.N)("/profile/","POST",{emails:D.split(", ")});case 23:l=e.sent,d=(0,c.Z)(l,2),h=d[0],x=d[1],h?(A([].concat((0,s.Z)(y),(0,s.Z)(x.users))),_("")):k({errorCode:x.error.errorCode,errorMessage:x.error.errorMessage}),r(!1);case 29:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(d.ql,{children:[(0,T.jsx)("title",{children:"Members"}),(0,T.jsx)("meta",{name:"description",content:"Member management"})]}),C&&(0,T.jsx)(u.C,{open:!!C,error:C}),(0,T.jsx)(R,{children:(0,T.jsxs)(h.Z,{spacing:4,children:[(0,T.jsx)(x.Z,{label:"Add User(s)",helperText:"Enter emails as a comma-separated list with spaces.",value:D,onChange:function(e){return _(e.target.value)},error:U,fullWidth:!0,InputProps:{endAdornment:(0,T.jsx)(Z.Z,{position:"end",children:(0,T.jsx)(p.Z,{onClick:$,edge:"end",children:(0,T.jsx)(V.Z,{})})})}}),(0,T.jsx)(f.Z,{children:(0,T.jsxs)(j.Z,{stickyHeader:!0,children:[(0,T.jsx)(m.Z,{children:(0,T.jsxs)(g.Z,{children:[(0,T.jsx)(v.Z,{children:"Name"}),(0,T.jsx)(v.Z,{children:"Admin?"}),(0,T.jsx)(v.Z,{children:"Registered?"}),(0,T.jsx)(v.Z,{children:"Current Role"}),(0,T.jsx)(v.Z,{align:"center",children:"Delete"})]})}),(0,T.jsx)(b.Z,{children:y.map((function(e){return(0,T.jsx)(N,{user:e,onDelete:W},e.id)}))})]})})]})})]})}var R=(0,k.Z)(C.Z)(z||(z=(0,t.Z)(["\n  min-height: 95%;\n  width: 60%;\n  min-width: 500px;\n  margin: auto;\n  padding: 64px;\n  border-radius: 48px;\n"])))}}]);