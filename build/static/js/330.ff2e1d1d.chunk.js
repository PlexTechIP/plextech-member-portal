"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[330],{85330:(e,a,s)=>{s.r(a),s.d(a,{SignUpPage:()=>_});var l=s(89379),n=s(2235),t=s(88981),i=s(75165),r=s(74745),o=s(2257),c=s(2046),d=s(25333),g=s(46639),m=s(9950),u=s(76455),x=s(54975),h=s(68179),p=s(12714),j=s(58574),A=s(42891),f=s(64068),v=s(72301),w=s(44414);function _(e){const[a,s]=(0,m.useState)(!1),[_,N]=(0,m.useState)(!1),[S,k]=(0,m.useState)({first_name:"",last_name:"",email:"",password:""}),[C,b]=(0,m.useState)(),[y,P]=(0,m.useState)(!1),[T,q]=(0,m.useState)({}),[z,B]=(0,m.useState)();(0,m.useEffect)((()=>{google.accounts.id.initialize({client_id:"968100881152-kgabl8upp6j75oset2hj9l512mcaoved.apps.googleusercontent.com",callback:U}),google.accounts.id.renderButton(document.getElementById("google-signup"),{theme:"outline",size:"large",text:"signup_with"})}),[]),(0,m.useEffect)((()=>{(async()=>{T.email&&await I({})})()}),[T]);const U=e=>{const a=(0,A.A)(e.credential);k((0,l.A)((0,l.A)({},S),{},{email:a.email,first_name:a.given_name,last_name:a.family_name,google:!0})),q(a)},E=()=>{s(!a)},I=async e=>{if(e.preventDefault&&e.preventDefault(),!S.google&&(""===S.first_name||""===S.last_name||""===S.email||S.password.length<8))return void N(!0);B(!0);const[a,s]=await(0,f.A)("/users/","POST",(0,l.A)((0,l.A)({},S),{},{method:"signup"}),void 0,(()=>P(!0)));B(!1),a||b(s.error),(0,v.WG)(s.access_token),N(!1)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.mg,{children:[(0,w.jsx)("title",{children:"Sign Up"}),(0,w.jsx)("meta",{name:"description",content:"Signup page for PlexTech finance"})]}),C?(0,w.jsx)(j.A,{open:!!C,error:C}):(0,w.jsxs)("div",{className:"pt-16 h-full",children:[(0,w.jsx)(n.A,{className:"min-h-[95%] w-2/5 min-w-[500px] mx-auto p-16 !rounded-[48px]",elevation:3,children:(0,w.jsx)("form",{children:(0,w.jsxs)(t.A,{alignItems:"center",spacing:4,children:[(0,w.jsxs)(t.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",className:"w-full",children:[(0,w.jsx)(i.A,{variant:"contained",style:{visibility:"hidden"},children:"Back to login"}),(0,w.jsx)("img",{src:x.ng,alt:"PlexTech logo",className:"max-w-[80px]"}),(0,w.jsx)(i.A,{variant:"contained",onClick:()=>{e.onBack()},children:"Back to login"})]}),(0,w.jsx)("h1",{className:"m-0 text-[3.052rem] pt-6",children:"Sign Up"}),S.google&&(0,w.jsx)("p",{children:"Signed in with Google."}),(0,w.jsx)(r.A,{className:"w-full",variant:"middle",light:!0}),S.google?(0,w.jsx)(i.A,{variant:"contained",onClick:I,children:"Sign Up"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{id:"google-signup"}),(0,w.jsx)(r.A,{className:"w-full",variant:"middle",light:!0,children:"or"}),(0,w.jsxs)(t.A,{className:"w-full",children:[(0,w.jsx)("p",{children:"First Name"}),(0,w.jsx)(o.A,{variant:"outlined",required:!0,size:"small",value:S.first_name,onChange:e=>{let{target:a}=e;k((e=>(0,l.A)((0,l.A)({},e),{},{first_name:a.value})))},error:!S.google&&_&&""===S.first_name,helperText:!S.google&&_&&""===S.first_name&&"Required"})]}),(0,w.jsxs)(t.A,{className:"w-full",children:[(0,w.jsx)("p",{children:"Last Name"}),(0,w.jsx)(o.A,{variant:"outlined",required:!0,size:"small",value:S.last_name,onChange:e=>{let{target:a}=e;k((e=>(0,l.A)((0,l.A)({},e),{},{last_name:a.value})))},error:!S.google&&_&&""===S.last_name,helperText:!S.google&&_&&""===S.last_name&&"Required"})]}),(0,w.jsxs)(t.A,{className:"w-full",children:[(0,w.jsx)("p",{children:"Email Address"}),(0,w.jsx)(o.A,{variant:"outlined",required:!0,size:"small",value:S.email,onChange:e=>{let{target:a}=e;k((e=>(0,l.A)((0,l.A)({},e),{},{email:a.value})))},error:!S.google&&_&&""===S.email||y,helperText:!S.google&&_&&""===S.email?"Required":y&&"You are not registered as a PlexTech member. Contact PlexTech management if this is incorrect."})]}),(0,w.jsxs)(t.A,{className:"w-full",children:[(0,w.jsx)("p",{children:"Password"}),(0,w.jsx)(o.A,{variant:"outlined",type:a?"text":"password",autoComplete:"current-password",required:!0,size:"small",InputProps:{endAdornment:(0,w.jsx)(c.A,{position:"end",children:(0,w.jsx)(d.A,{onClick:E,onMouseDown:E,children:a?(0,w.jsx)(h.A,{}):(0,w.jsx)(p.A,{})})})},value:S.password,onChange:e=>{let{target:a}=e;k((e=>(0,l.A)((0,l.A)({},e),{},{password:a.value})))},error:!S.google&&_&&S.password.length<8,helperText:!S.google&&_&&S.password.length<8&&"Password must be at least 8 characters long."})]}),(0,w.jsx)("div",{}),(0,w.jsx)(i.A,{variant:"contained",onClick:I,type:"submit",children:z?(0,w.jsx)(g.A,{className:"text-[rgb(255,138,0)]",size:20}):"Sign Up"})]})]})})}),(0,w.jsx)("div",{className:"h-[5%]"})]})]})}}}]);