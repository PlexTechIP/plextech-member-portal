"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[377],{95785:function(e,r,n){n.d(r,{C:function(){return x}});var t,s=n(30168),i=n(53115),o=n(42832),c=n(47131),a=n(70501),d=n(10387),l=(n(47313),n(96694)),h=n(32094),u=n.p+"static/media/error.062a662df0ebdd9a7227.png",p=n(46417);function x(e){return(0,p.jsx)(j,{open:e.open,children:(0,p.jsx)(f,{children:(0,p.jsxs)(o.Z,{spacing:2,children:[(0,p.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,p.jsxs)(m,{children:["Error",e.error.errorCode&&" ".concat(e.error.errorCode),":"," ",e.error.errorMessage]}),(0,p.jsx)(c.Z,{onClick:function(){window.location.reload()},children:(0,p.jsx)(h.Z,{})})]}),(0,p.jsxs)(Z,{children:["Try refreshing the page and contact"," ",(0,p.jsx)("a",{href:"mailto:shamith09@berkeley.edu?subject=[Plexfinance Error]",children:"shamith09@berkeley.edu"})," ","if the issue persists."]}),(0,p.jsx)("img",{src:u,alt:"error"})]})})})}var f=(0,l.Z)(a.Z)(t||(t=(0,s.Z)(["\n  padding: 48px;\n  border-radius: 48px;\n"]))),m=i.ZP.h1.withConfig({componentId:"sc-khwwpk-0"})(["margin:0px;"]),Z=i.ZP.p.withConfig({componentId:"sc-khwwpk-1"})(["margin:0px;"]),j=(0,i.ZP)(d.Z).withConfig({componentId:"sc-khwwpk-2"})(["width:50%;min-width:500px;height:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:64px;"])},48811:function(e,r,n){n.r(r),n.d(r,{ProfilePage:function(){return L}});var t,s=n(30168),i=n(74165),o=n(15861),c=n(29439),a=n(53115),d=n(47313),l=n(65964),h=n(95785),u=n(96694),p=n(42832),x=n(19536),f=n(66835),m=n(23477),Z=n(24076),j=n(67478),g=n(57861),v=n(73428),w=n(10658),b=n.n(w),k=n(46417),C=3;function y(e){var r=e.user;return(0,k.jsx)(P,{children:(0,k.jsxs)(p.Z,{spacing:3,children:[(0,k.jsx)(I,{children:"Attendance"}),(0,k.jsxs)(p.Z,{direction:"row",spacing:3,alignItems:"center",children:[(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(S,{children:"Absences"}),(0,k.jsx)(M,{children:r.absences.length})]}),(0,k.jsx)(x.Z,{orientation:"vertical",flexItem:!0}),(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(S,{children:"Tardies"}),(0,k.jsx)(M,{children:r.tardies.length})]}),(0,k.jsx)(x.Z,{orientation:"vertical",flexItem:!0}),(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(S,{children:"Strikes"}),(0,k.jsx)(M,{children:r.strikes.length})]}),(0,k.jsx)(x.Z,{orientation:"vertical",flexItem:!0}),(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(S,{children:"Slip Days Left"}),(0,k.jsx)(M,{children:r.absences.length+r.tardies.length<C?C-r.absences.length-r.tardies.length:0})]})]}),r.absences.length+r.tardies.length+r.strikes.length>0&&(0,k.jsxs)(f.Z,{size:"small","aria-label":"purchases",children:[(0,k.jsx)(m.Z,{children:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(j.Z,{children:"Date"}),(0,k.jsx)(j.Z,{children:"Tardy/Absence/Strike?"})]})}),(0,k.jsx)(g.Z,{children:r.tardies.map((function(e){return(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(j.Z,{component:"th",scope:"row",children:b()(e).format("MM/DD/YYYY")}),(0,k.jsx)(j.Z,{children:"Tardy"})]},e.toString())})).concat(r.absences.map((function(e){return(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(j.Z,{component:"th",scope:"row",children:b()(e).format("MM/DD/YYYY")}),(0,k.jsx)(j.Z,{children:"Absence"})]},e.toString())}))).concat(r.strikes.map((function(e){return(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(j.Z,{component:"th",scope:"row",children:b()(e).format("MM/DD/YYYY")}),(0,k.jsx)(j.Z,{children:"Strike"})]},e.toString())}))).sort()})]})]})})}var P=(0,u.Z)(v.Z)(t||(t=(0,s.Z)(["\n  padding: 48px;\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  border-radius: 32px;\n  width: max-content;  \n"]))),I=a.ZP.h1.withConfig({componentId:"sc-1w8yfvh-0"})(["margin:0;"]),S=a.ZP.h2.withConfig({componentId:"sc-1w8yfvh-1"})(["margin:0;padding-bottom:8px;"]),M=a.ZP.h3.withConfig({componentId:"sc-1w8yfvh-2"})(["margin:0;"]),T=n(57829),Y=n(31427),A=n(41727),D=n(47131),z=n(9019),E=n(69099),N=n(85281);function R(e){var r=e.venmoProfile,n=r.profile_picture_url,t=r.username,s=r.display_name;return(0,k.jsxs)(p.Z,{direction:"row",spacing:3,alignItems:"center",children:[(0,k.jsx)(F,{src:n,alt:t}),(0,k.jsxs)(p.Z,{children:[(0,k.jsx)(U,{children:s}),(0,k.jsxs)(V,{children:["@",t]})]})]})}var _,B,U=a.ZP.p.withConfig({componentId:"sc-55ctjr-0"})(["margin:0;"]),V=a.ZP.p.withConfig({componentId:"sc-55ctjr-1"})(["margin:0;color:grey;"]),F=a.ZP.img.withConfig({componentId:"sc-55ctjr-2"})(["border-radius:50%;width:64px;"]),G=n(57983);function L(e){var r=(0,d.useState)(),n=(0,c.Z)(r,2),t=n[0],s=n[1],a=(0,d.useState)(),u=(0,c.Z)(a,2),x=u[0],f=u[1],m=(0,d.useState)(""),Z=(0,c.Z)(m,2),j=Z[0],g=Z[1],v=(0,d.useState)([]),w=(0,c.Z)(v,2),b=w[0],C=w[1],P=(0,d.useState)(),I=(0,c.Z)(P,2),S=I[0],M=I[1],N=(0,d.useState)(!1),_=(0,c.Z)(N,2),B=_[0],U=_[1];(0,d.useEffect)((function(){var r=function(){var r=(0,o.Z)((0,i.Z)().mark((function r(){var n,t,o;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="".concat("https://plexfinance-backend-production.up.railway.app","/profile/"),r.prev=1,r.next=4,fetch(n,{method:"GET",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},redirect:"follow",referrerPolicy:"no-referrer"});case 4:if(401!==(t=r.sent).status&&422!==t.status){r.next=10;break}return e.removeToken(),r.abrupt("return");case 10:t.ok||(s({errorCode:t.status,errorMessage:t.statusText}),console.error(t));case 11:return r.next=13,t.json();case 13:o=r.sent,f(o),M(o.venmo),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(1),s({errorMessage:r.t0.toString()}),console.error(r.t0);case 22:case"end":return r.stop()}}),r,null,[[1,18]])})));return function(){return r.apply(this,arguments)}}();r()}),[e]);var V=function(){var r=(0,o.Z)((0,i.Z)().mark((function r(n){var t,o;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return U(!0),t="".concat("https://plexfinance-backend-production.up.railway.app","/venmo/_/"),r.prev=2,r.next=5,fetch(t,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 5:if(401!==(o=r.sent).status){r.next=11;break}return e.removeToken(),r.abrupt("return");case 11:o.ok||(s({errorCode:o.status,errorMessage:o.statusText}),console.error(o));case 12:M(n),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(2),s({errorMessage:r.t0.toString()}),console.error(r.t0);case 19:U(!1);case 20:case"end":return r.stop()}}),r,null,[[2,15]])})));return function(e){return r.apply(this,arguments)}}(),F=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(r.target.value);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),L=function(){var r=(0,o.Z)((0,i.Z)().mark((function r(n){var t,o,c;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),U(!0),j){r.next=4;break}return r.abrupt("return");case 4:return t="".concat("https://plexfinance-backend-production.up.railway.app","/venmo/").concat(encodeURIComponent(j),"/"),r.prev=5,r.next=8,fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token},redirect:"follow",referrerPolicy:"no-referrer"});case 8:if(401!==(o=r.sent).status){r.next=14;break}return e.removeToken(),r.abrupt("return");case 14:o.ok||(s({errorCode:o.status,errorMessage:o.statusText}),console.error(o));case 15:return r.next=17,o.json();case 17:c=r.sent,C(c.users),r.next=25;break;case 21:r.prev=21,r.t0=r.catch(5),s({errorMessage:r.t0.toString()}),console.error(r.t0);case 25:U(!1);case 26:case"end":return r.stop()}}),r,null,[[5,21]])})));return function(e){return r.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(l.ql,{children:[(0,k.jsx)("title",{children:"Profile"}),(0,k.jsx)("meta",{name:"description",content:"Profile information"})]}),t&&(0,k.jsx)(h.C,{open:!!t,error:t}),(0,k.jsx)(q,{}),x&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(q,{children:(0,k.jsx)(y,{user:x})}),(0,k.jsx)(q,{children:(0,k.jsx)(W,{children:(0,k.jsxs)(p.Z,{spacing:4,children:[S?(0,k.jsx)(T.Z,{children:(0,k.jsxs)(p.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,k.jsx)(J,{children:"Venmo Profile"}),(0,k.jsxs)(p.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,k.jsx)(O,{children:"Current:"}),(0,k.jsx)(R,{venmoProfile:S})]})]})}):(0,k.jsx)(J,{children:"Venmo Profile"}),(0,k.jsx)("form",{children:(0,k.jsx)(Y.Z,{fullWidth:!0,label:"Venmo Username",value:j,onChange:F,InputProps:{startAdornment:(0,k.jsx)(A.Z,{position:"start",children:"@"}),endAdornment:(0,k.jsx)(A.Z,{position:"end",children:(0,k.jsx)(D.Z,{onClick:L,type:"submit",disabled:!j||B,children:B?(0,k.jsx)(H,{size:20}):(0,k.jsx)(G.Z,{})})})}})}),(0,k.jsx)(z.ZP,{container:!0,spacing:2,children:b.map((function(e){return(0,k.jsx)(z.ZP,{item:!0,onClick:function(){return V(e)},xs:12,sm:6,children:(0,k.jsx)(E.Z,{fullWidth:!0,sx:{justifyContent:"flex-start",color:"inherit",textDecoration:"inherit",textAlign:"left",alignItems:"flex-start",textTransform:"none",fontSize:"inherit"},children:(0,k.jsx)(R,{venmoProfile:e})})},e.id)}))})]})})})]})]})}var W=(0,u.Z)(v.Z)(_||(_=(0,s.Z)(["\n  padding: 48px;\n  width: 80%;\n  border-radius: 32px;\n"]))),q=a.ZP.div.withConfig({componentId:"sc-m8omts-0"})(["min-height:95%;width:75%;min-width:500px;margin:auto;padding-left:64px;padding-right:64px;padding-top:32px;border-radius:48px;"]),J=a.ZP.h1.withConfig({componentId:"sc-m8omts-1"})(["margin:0;"]),O=a.ZP.h2.withConfig({componentId:"sc-m8omts-2"})(["margin:0;"]),H=(0,u.Z)(N.Z)(B||(B=(0,s.Z)(["\n  color: rgb(255, 138, 0);\n"])))},57983:function(e,r,n){var t=n(64836);r.Z=void 0;var s=t(n(45045)),i=n(46417),o=(0,s.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");r.Z=o},73428:function(e,r,n){n.d(r,{Z:function(){return Z}});var t=n(87462),s=n(63366),i=n(47313),o=n(83061),c=n(21921),a=n(17592),d=n(77342),l=n(70501),h=n(77430),u=n(32298);function p(e){return(0,u.Z)("MuiCard",e)}(0,h.Z)("MuiCard",["root"]);var x=n(46417),f=["className","raised"],m=(0,a.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{overflow:"hidden"}})),Z=i.forwardRef((function(e,r){var n=(0,d.Z)({props:e,name:"MuiCard"}),i=n.className,a=n.raised,l=void 0!==a&&a,h=(0,s.Z)(n,f),u=(0,t.Z)({},n,{raised:l}),Z=function(e){var r=e.classes;return(0,c.Z)({root:["root"]},p,r)}(u);return(0,x.jsx)(m,(0,t.Z)({className:(0,o.Z)(Z.root,i),elevation:l?8:void 0,ref:r,ownerState:u},h))}))}}]);