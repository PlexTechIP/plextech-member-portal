"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[587],{58574:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(5446),a=t(2235),o=t(88981),i=t(25333),s=t(9950),c=t(4804),l=t(54975),d=t(44414);function h(e){return(0,s.useEffect)((()=>{console.warn(e.error)})),(0,d.jsx)(n.A,{open:e.open,className:"w-1/2 min-w-[500px] h-full absolute inset-0 m-auto p-16",children:(0,d.jsx)(a.A,{className:"p-12 !rounded-[48px]",children:(0,d.jsxs)(o.A,{spacing:2,children:[(0,d.jsxs)(o.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,d.jsxs)("h1",{className:"m-0 text-3xl",children:["Error",e.error.errorCode&&" ".concat(e.error.errorCode),":"," ",e.error.errorMessage]}),(0,d.jsx)(i.A,{onClick:()=>{window.location.reload()},children:(0,d.jsx)(c.A,{})})]}),(0,d.jsxs)("p",{className:"m-0",children:["Try refreshing the page and contact"," ",(0,d.jsx)("a",{href:"mailto:shamith09@berkeley.edu?subject=[Plexfinance Error]",children:"shamith09@berkeley.edu"})," ","if the issue persists."]}),(0,d.jsx)("img",{src:l.kD,alt:"error"})]})})})}},58587:(e,r,t)=>{t.r(r),t.d(r,{LoginPage:()=>P});var n=t(89379),a=t(9950),o=t(76455),i=t(54975),s=t(14857),c=t(2235),l=t(88981),d=t(74745),h=t(2257),m=t(2046),p=t(25333),u=t(75165),g=t(46639),v=t(68179),A=t(12714),x=t(24451);const f=(0,x.j)((()=>t.e(330).then(t.bind(t,85330))),(e=>e.SignUpPage));var w=t(58574);const b=(0,x.j)((()=>t.e(149).then(t.bind(t,47149))),(e=>e.ForgotPasswordPage));var j=t(42891),k=t(64068),y=t(72301),S=t(49211),C=t(44414);function P(e){const[r,t]=(0,a.useState)(!1),[x,P]=(0,a.useState)(!1),[I,N]=(0,a.useState)({email:"",password:"",google:!1}),[E,z]=(0,a.useState)(!1),[M,T]=(0,a.useState)(!1),[L,D]=(0,a.useState)(),[R,F]=(0,a.useState)(!1),[B,q]=(0,a.useState)(!1),[O,H]=(0,a.useState)({}),U=(0,s.A)();(0,a.useEffect)((()=>{google.accounts.id.initialize({client_id:"968100881152-kgabl8upp6j75oset2hj9l512mcaoved.apps.googleusercontent.com",callback:_}),google.accounts.id.renderButton(document.getElementById("google-signin"),{theme:"dark"===U.palette.mode?"filled_black":"outline",size:"large"})}),[M]),(0,a.useEffect)((()=>{(async()=>{O.email&&await W()})()}),[O]);const _=e=>{const r=(0,j.A)(e.credential);N({email:r.email,google:!0}),H(r)},V=()=>{P(!x)},W=async e=>{if(e&&e.preventDefault(),!I.google&&(""===I.email||""===I.password))return void t(!0);F(!0);const[r,a]=await(0,k.A)("/users/","POST",(0,n.A)((0,n.A)((0,n.A)({},I),{},{method:"login"},S.A.get("attendanceTime")&&{attendanceTime:S.A.get("attendanceTime")}),S.A.get("attendanceId")&&{attendanceId:S.A.get("attendanceId")}),(0,y.gf)(),(()=>z(!0)));F(!1),r?(z(!1),a.redirect&&(window.location=a.redirect),(0,y.WG)(a.access_token),t(!1)):404===a.error.errorCode?T(!0):D(a.error)};return M?(0,C.jsx)(f,{onBack:()=>T(!1)}):B?(0,C.jsx)(b,{onBack:()=>q(!1)}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(o.mg,{children:[(0,C.jsx)("title",{children:"Login"}),(0,C.jsx)("meta",{name:"description",content:"Login page for PlexTech finance"})]}),L?(0,C.jsx)(w.A,{open:!!L,error:L}):(0,C.jsxs)("div",{className:"pt-16 h-full",children:[(0,C.jsx)(c.A,{className:"min-h-[95%] w-[40%] min-w-[500px] mx-auto p-16 !rounded-[48px]",elevation:3,children:(0,C.jsx)("form",{children:(0,C.jsxs)(l.A,{alignItems:"center",spacing:4,children:[(0,C.jsx)("img",{src:i.ng,alt:"PlexTech logo",className:"max-w-[80px]"}),(0,C.jsx)("h1",{className:"m-0 text-[3.052rem] pt-6",children:"Login"}),(0,C.jsx)("div",{id:"google-signin"}),(0,C.jsx)(d.A,{className:"w-full",variant:"middle",light:!0,children:"or"}),(0,C.jsxs)(l.A,{className:"w-full",children:[(0,C.jsx)("p",{children:"Email Address"}),(0,C.jsx)(h.A,{variant:"outlined",required:!0,size:"small",value:I.google?"":I.email,onChange:e=>{let{target:r}=e;N((e=>(0,n.A)((0,n.A)({},e),{},{email:r.value})))},error:r&&""===I.email||I.google&&E||E,helperText:(r&&""===I.email?"Required":I.google&&E&&"You are not registered as a PlexTech member. Contact PlexTech management if this is incorrect.")||E&&"Incorrect email or password."})]}),(0,C.jsxs)(l.A,{className:"w-full",children:[(0,C.jsx)("p",{children:"Password"}),(0,C.jsx)(h.A,{variant:"outlined",type:x?"text":"password",autoComplete:"current-password",required:!0,size:"small",InputProps:{endAdornment:(0,C.jsx)(m.A,{position:"end",children:(0,C.jsx)(p.A,{onClick:V,onMouseDown:V,children:x?(0,C.jsx)(v.A,{}):(0,C.jsx)(A.A,{})})})},value:I.google?"":I.password,onChange:e=>{let{target:r}=e;N((e=>(0,n.A)((0,n.A)({},e),{},{password:r.value})))},error:!I.google&&(r&&""===I.password||E),helperText:!I.google&&(r&&""===I.password?"Required":E&&"Incorrect email or password.")})]}),(0,C.jsxs)(l.A,{direction:"row",spacing:3,children:[(0,C.jsx)(u.A,{variant:"contained",onClick:W,type:"submit",style:{backgroundColor:"rgb(255, 138, 0)",color:"white"},children:R?(0,C.jsx)(g.A,{className:"text-[rgb(255,138,0)]",size:20}):"Log In"}),(0,C.jsx)(u.A,{variant:"contained",onClick:()=>{q(!0)},children:"Forgot Password?"})]}),(0,C.jsx)(u.A,{variant:"contained",onClick:()=>{T(!0)},children:"Don't have an account yet?"})]})})}),(0,C.jsx)("div",{className:"h-[5%]"})]})]})}},68179:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(23235),a=t(44414);const o=(0,n.A)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},12714:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(23235),a=t(44414);const o=(0,n.A)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff")},46639:(e,r,t)=>{t.d(r,{A:()=>M});var n=t(57528),a=t(98587),o=t(58168),i=t(9950),s=t(2803),c=t(88465),l=t(88283),d=t(61676),h=t(48283),m=t(59254),p=t(1763),u=t(423);function g(e){return(0,u.Ay)("MuiCircularProgress",e)}(0,p.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var v,A,x,f,w=t(44414);const b=["className","color","disableShrink","size","style","thickness","value","variant"];let j,k,y,S;const C=44,P=(0,l.i7)(j||(j=v||(v=(0,n.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),I=(0,l.i7)(k||(k=A||(A=(0,n.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),N=(0,m.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r["color".concat((0,d.A)(t.color))]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,o.A)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.AH)(y||(y=x||(x=(0,n.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),P)})),E=(0,m.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),z=(0,m.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r["circle".concat((0,d.A)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,o.A)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.AH)(S||(S=f||(f=(0,n.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),I)})),M=i.forwardRef((function(e,r){const t=(0,h.A)({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:l=!1,size:m=40,style:p,thickness:u=3.6,value:v=0,variant:A="indeterminate"}=t,x=(0,a.A)(t,b),f=(0,o.A)({},t,{color:i,disableShrink:l,size:m,thickness:u,value:v,variant:A}),j=(e=>{const{classes:r,variant:t,color:n,disableShrink:a}=e,o={root:["root",t,"color".concat((0,d.A)(n))],svg:["svg"],circle:["circle","circle".concat((0,d.A)(t)),a&&"circleDisableShrink"]};return(0,c.A)(o,g,r)})(f),k={},y={},S={};if("determinate"===A){const e=2*Math.PI*((C-u)/2);k.strokeDasharray=e.toFixed(3),S["aria-valuenow"]=Math.round(v),k.strokeDashoffset="".concat(((100-v)/100*e).toFixed(3),"px"),y.transform="rotate(-90deg)"}return(0,w.jsx)(N,(0,o.A)({className:(0,s.A)(j.root,n),style:(0,o.A)({width:m,height:m},y,p),ownerState:f,ref:r,role:"progressbar"},S,x,{children:(0,w.jsx)(E,{className:j.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(C," ").concat(C),children:(0,w.jsx)(z,{className:j.circle,style:k,ownerState:f,cx:C,cy:C,r:(C-u)/2,fill:"none",strokeWidth:u})})}))}))},2046:(e,r,t)=>{t.d(r,{A:()=>j});var n=t(98587),a=t(58168),o=t(9950),i=t(2803),s=t(88465),c=t(61676),l=t(82053),d=t(15866),h=t(39766),m=t(59254),p=t(1763),u=t(423);function g(e){return(0,u.Ay)("MuiInputAdornment",e)}const v=(0,p.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var A,x=t(48283),f=t(44414);const w=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,m.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r["position".concat((0,c.A)(t.position))],!0===t.disablePointerEvents&&r.disablePointerEvents,r[t.variant]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,a.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===t.variant&&{["&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")")]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),j=o.forwardRef((function(e,r){const t=(0,x.A)({props:e,name:"MuiInputAdornment"}),{children:m,className:p,component:u="div",disablePointerEvents:v=!1,disableTypography:j=!1,position:k,variant:y}=t,S=(0,n.A)(t,w),C=(0,h.A)()||{};let P=y;y&&C.variant,C&&!P&&(P=C.variant);const I=(0,a.A)({},t,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:v,position:k,variant:P}),N=(e=>{const{classes:r,disablePointerEvents:t,hiddenLabel:n,position:a,size:o,variant:i}=e,l={root:["root",t&&"disablePointerEvents",a&&"position".concat((0,c.A)(a)),i,n&&"hiddenLabel",o&&"size".concat((0,c.A)(o))]};return(0,s.A)(l,g,r)})(I);return(0,f.jsx)(d.A.Provider,{value:null,children:(0,f.jsx)(b,(0,a.A)({as:u,ownerState:I,className:(0,i.A)(N.root,p),ref:r},S,{children:"string"!==typeof m||j?(0,f.jsxs)(o.Fragment,{children:["start"===k?A||(A=(0,f.jsx)("span",{className:"notranslate",children:"\u200b"})):null,m]}):(0,f.jsx)(l.A,{color:"text.secondary",children:m})}))})}))},42891:(e,r,t)=>{function n(e){this.message=e}t.d(r,{A:()=>s}),n.prototype=new Error,n.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,a,o=0,i=0,s="";a=r.charAt(i++);~a&&(t=o%4?64*t+a:a,o++%4)?s+=String.fromCharCode(255&t>>(-2*o&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return s};function o(e){var r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(r)}catch(e){return a(r)}}function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError";const s=function(e,r){if("string"!=typeof e)throw new i("Invalid token specified");var t=!0===(r=r||{}).header?0:1;try{return JSON.parse(o(e.split(".")[t]))}catch(e){throw new i("Invalid token specified: "+e.message)}}}}]);