"use strict";(self.webpackChunkplexfinance=self.webpackChunkplexfinance||[]).push([[12],{23012:function(e,t,n){n.r(t),n.d(t,{ForgotPasswordPage:function(){return w}});var r,s,o=n(30168),i=n(74165),a=n(15861),c=n(29439),d=n(53115),l=n(42832),u=n(69099),p=n(31427),h=n(70501),x=n(85281),g=n(95785),f=n(47313),m=n(65964),Z=n(96694),j=n(53422),k=(0,n(12540).u)((function(){return n.e(7).then(n.bind(n,46007))}),(function(e){return e.PasswordResetPage})),b=n(46417);function w(e){var t=(0,f.useState)(!1),n=(0,c.Z)(t,2),r=n[0],s=n[1],o=(0,f.useState)(""),d=(0,c.Z)(o,2),h=d[0],x=d[1],Z=(0,f.useState)(),w=(0,c.Z)(Z,2),I=w[0],B=w[1],F=(0,f.useState)(!1),q=(0,c.Z)(F,2),z=q[0],A=q[1],M=(0,f.useState)(!1),R=(0,c.Z)(M,2),D=R[0],E=R[1],G=(0,f.useState)(!1),J=(0,c.Z)(G,2),N=J[0],O=J[1],U=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==h){e.next=4;break}return s(!0),e.abrupt("return");case 4:return A(!0),n="".concat("http://localhost:5001","/users/"),e.prev=6,e.next=9,fetch(n,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:h,method:"passwordCode"})});case 9:if(r=e.sent,A(!1),401!==r.status&&422!==r.status){e.next=15;break}return console.error(r),E(!0),e.abrupt("return");case 15:if(r.ok){e.next=18;break}return B({errorCode:r.status,errorMessage:r.statusText}),e.abrupt("return");case 18:O(!0),E(!1),s(!1),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),console.error(e.t0),B({errorMessage:e.t0.toString()});case 27:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(t){return e.apply(this,arguments)}}();return N?(0,b.jsx)(k,{onBack:e.onBack,email:h,setToken:e.setToken,token:e.token}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(m.ql,{children:[(0,b.jsx)("title",{children:"Forgot Password"}),(0,b.jsx)("meta",{name:"description",content:"Forgot Password page for PlexTech finance"})]}),I?(0,b.jsx)(g.C,{open:!!I,error:I}):(0,b.jsxs)(S,{children:[(0,b.jsx)(v,{elevation:3,children:(0,b.jsx)("form",{children:(0,b.jsxs)(l.Z,{alignItems:"center",spacing:4,children:[(0,b.jsxs)(y,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,b.jsx)(u.Z,{variant:"contained",style:{visibility:"hidden"},children:"Back to login"}),(0,b.jsx)(C,{src:j,alt:"PlexTech logo"}),(0,b.jsx)(u.Z,{variant:"contained",onClick:e.onBack,children:"Back to login"})]}),(0,b.jsx)(P,{children:"Forgot Password"}),(0,b.jsx)("p",{children:"We'll send a 5-digit code to your email address that you can use to reset your password. This code will expire in 5 minutes. Please keep this tab open."}),(0,b.jsxs)(y,{children:[(0,b.jsx)("p",{children:"Email Address"}),(0,b.jsx)(p.Z,{variant:"outlined",required:!0,size:"small",value:h,onChange:function(e){var t=e.target;x(t.value)},error:r&&""===h||D,helperText:r&&""===h?"Required":D&&"Account doesn't exist. Go back to the login page to make an account."})]}),(0,b.jsx)(u.Z,{variant:"contained",onClick:U,type:"submit",children:z?(0,b.jsx)(T,{size:20}):"Submit"})]})})}),(0,b.jsx)("div",{style:{height:"5%"}})]})]})}var v=(0,Z.Z)(h.Z)(r||(r=(0,o.Z)(["\n  min-height: 95%;\n  width: 40%;\n  min-width: 500px;\n  margin: auto;\n  padding: 64px;\n  border-radius: 48px;\n"]))),y=(0,d.ZP)(l.Z).withConfig({componentId:"sc-pcy61b-0"})(["width:100%;"]),P=d.ZP.h1.withConfig({componentId:"sc-pcy61b-1"})(["margin:0px;font-size:3.052rem;padding-top:24px;"]),C=d.ZP.img.withConfig({componentId:"sc-pcy61b-2"})(["max-width:80px;"]),S=d.ZP.div.withConfig({componentId:"sc-pcy61b-3"})(["padding-top:64px;height:100%;"]),T=(0,Z.Z)(x.Z)(s||(s=(0,o.Z)(["\n  color: rgb(255, 138, 0);\n"])))}}]);